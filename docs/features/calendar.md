# 校历功能

## 功能概述

校历功能为教师提供完整的学期管理和课程安排系统，支持学期管理、课程管理、课程安排和课程表展示。

## 核心功能

### 1. 学期管理
- 设置学期开始和结束日期
- 自动计算学期总周数
- 支持多个学期管理
- 确保只有一个活跃学期

### 2. 课程管理
- 添加和管理课程信息
- 设置课程描述和上课地点
- 教师只能管理自己的课程
- 支持课程信息修改

### 3. 课程安排
- 设置课程的具体上课时间
- 支持5个时间段安排
- 支持7天课程安排
- 灵活设置上课周次范围

### 4. 课程表展示
- 按周显示课程安排
- 支持周次导航
- 显示课程详细信息
- 显示当前日期对应的周次

## 使用指南

### 设置学期信息
1. 访问学期管理页面
2. 添加新学期
3. 设置学期名称、开始日期、结束日期
4. 设置为当前活跃学期

### 添加课程
1. 访问课程管理页面
2. 填写课程信息
3. 设置课程名称、地点、描述
4. 保存课程信息

### 设置课程安排
1. 在课程管理页面找到课程
2. 点击"添加安排"按钮
3. 设置上课时间和周次
4. 保存课程安排

### 查看课程表
1. 访问校历课程表页面
2. 查看当前周的课程安排
3. 使用导航按钮浏览不同周次

## 时间段设置

- **第一大节**: 8:00-9:40
- **第二大节**: 10:00-11:40
- **第三大节**: 14:00-15:40
- **第四大节**: 16:00-17:40
- **第五大节**: 19:00-20:40

## 数据模型

### Semester（学期）
- 学期名称、开始日期、结束日期
- 是否为当前学期标识
- 自动计算学期周数

### Course（课程）
- 课程名称、描述、上课地点
- 关联学期和授课教师
- 支持课程信息管理

### CourseSchedule（课程安排）
- 上课时间（星期几、第几大节）
- 上课周次范围
- 防止时间冲突

## 权限控制

- 普通教师只能管理自己的课程
- 超级管理员可以管理所有课程
- 学期管理需要管理员权限
- 需要登录才能访问功能

## 技术特点

- 使用Django ORM进行数据管理
- 支持多租户架构
- 响应式Web界面设计
- AJAX异步数据提交
- 自动计算当前周次

## 注意事项

1. 必须先设置学期信息
2. 同一时间段不能安排多个课程
3. 课程安排时间不能超过学期总周数
4. 建议在学期开始前完成设置
